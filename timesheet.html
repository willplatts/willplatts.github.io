<!DOCTYPE html>
<html>
<head>
	<title>What's going on?</title>
	
	<script>
        //!< The time now. Also store date, month, year
		var nowTime;
        var nowDate;
        var nowMonth;
        var nowYear;
        
        //!< Selected time. Also store date, month, year
        var timeOffset;
        var selTime;
        var selDate;
        var selMonth;
        var selYear;
		
		//!< Function called when page is loaded
        //!< 1. Get the current time
        //!< 2. Get the selected time
		function onLoad()
		{
            // Get current time
			nowTime = new Date();
            nowDate = nowTime.getDate();
            nowMonth = nowTime.getMonth();
            nowYear = nowTime.getFullYear();
            
            // Get selected time
            selTime = new Date();
            
            timeOffset = gup('t', null);
            if (timeOffset == null)
            {
                timeOffset = 0;
            }
            else
            {
                timeOffset = parseInt(timeOffset);
            }
            selTime.setTime(nowTime.getTime() + timeOffset);
            selDate = selTime.getDate();
            selMonth = selTime.getMonth();
            selYear = selTime.getFullYear();
            
			setTitle();
			
			var slider = document.getElementById("myRange");
			var output = document.getElementById("demo");
			output.innerHTML = slider.value;

			slider.oninput = function() {
			  output.innerHTML = this.value;
			}
		}
		
		//!< Set title
		function setTitle()
		{
            var text;
            if ((selDate==nowDate) && (selMonth==nowMonth) && (selYear==nowYear))
            {
                //today is selected
                text = "<strong>What are you doing today?</strong> ";
            }
            else if (selTime.getTime() < nowTime.getTime()) 
            {
                // not today, in the past
                text = "<strong>What were you doing?</strong> ";
            }
            else
            {
                // Must be in the future
                text = "<strong>What will you be doing?</strong> ";
            }
            text += "(" + selTime.toDateString() + ")";
			document.getElementById("title").innerHTML = text;
		}
        
        //!< Function to get parameter from URL
        function gup( name, url )
        {
            if (!url) url = location.href;
            name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
            var regexS = "[\\?&]"+name+"=([^&#]*)";
            var regex = new RegExp( regexS );
            var results = regex.exec( url );
            return results == null ? null : results[1];
        }
		
		
	</script>
	
	<style>
		#title {
			font-size: 30px;
		}
		#slidecontainer {
		    width: 100%; /* Width of the outside container */
		}

		/* The slider itself */
		.slider {
		    -webkit-appearance: none;  /* Override default CSS styles */
		    appearance: none;
		    width: 75%; /* Full-width */
		    height: 25px; /* Specified height */
		    background: #d3d3d3; /* Grey background */
		    outline: none; /* Remove outline */
		    opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
		    -webkit-transition: .2s; /* 0.2 seconds transition on hover */
		    transition: opacity .2s;
		}

		/* Mouse-over effects */
		.slider:hover {
		    opacity: 1; /* Fully shown on mouse-over */
		}

		/* The slider handle (use webkit (Chrome, Opera, Safari, Edge) and moz (Firefox) to override default look) */ 
		.slider::-webkit-slider-thumb {
		    -webkit-appearance: none; /* Override default look */
		    appearance: none;
		    width: 25px; /* Set a specific slider handle width */
		    height: 25px; /* Slider handle height */
		    background: #4CAF50; /* Green background */
		    cursor: pointer; /* Cursor on hover */
		}

		.slider::-moz-range-thumb {
		    width: 25px; /* Set a specific slider handle width */
		    height: 25px; /* Slider handle height */
		    background: #4CAF50; /* Green background */
		    cursor: pointer; /* Cursor on hover */
		}
	</style>
	
</head>
<body onload="onLoad()">

	<div id="title">What are you doing?</div><br />
	
	<div id="slidecontainer">
		<span id="jobno">UTP2:</span><input type="range" min="0.0" max="10.0" value="0.0" step="0.1" class="slider" id="myRange"> <span id="demo"></span>
	</div>

</body>
</html>
